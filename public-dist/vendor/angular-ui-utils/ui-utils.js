function uiUploader(e){"use strict";function n(e){for(var n=0;n<e.length;n++)t.files.push(e[n])}function r(){return t.files}function i(e){t.options=e;for(var n=0;n<t.files.length;n++){if(t.activeUploads==t.options.concurrency)break;if(t.files[n].active)continue;a(t.files[n],t.options.url)}}function s(e){t.files.splice(t.files.indexOf(e),1)}function o(){t.files.splice(0,t.files.length)}function u(e){var t=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],n=+Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,n)).toFixed(n?1:0)+" "+t[isNaN(e)?0:n+1]}function a(e,n){var r,s,o,a="",f="file";t.activeUploads+=1,e.active=!0,r=new window.XMLHttpRequest,s=new window.FormData,r.open("POST",n),r.upload.onloadstart=function(){},r.upload.onprogress=function(n){if(!n.lengthComputable)return;e.loaded=n.loaded,e.humanSize=u(n.loaded),t.options.onProgress(e)},r.onload=function(){t.activeUploads-=1,i(t.options),t.options.onCompleted(e,r.responseText)},r.onerror=function(){};if(a)for(o in a)a.hasOwnProperty(o)&&s.append(o,a[o]);return s.append(f,e,e.name),r.send(s),r}var t=this;return t.files=[],t.options={},t.activeUploads=0,e.info("uiUploader loaded"),{addFiles:n,getFiles:r,files:t.files,startUpload:i,removeFile:s,removeAll:o}}angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(e,t){"use strict";t=t||{},angular.forEach(t,function(t,n){angular.isString(t)&&(t={replace:!0,template:t}),e.directive(n,function(){return t})})}]),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(e){"use strict";return function(t,n,r){var i=t.$eval(r.uiEvent);angular.forEach(i,function(r,i){var s=e(r);n.bind(i,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),s(t,{$event:e,$params:n}),t.$$phase||t.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){"use strict";return function(e,t){var n=e;if(angular.isString(n)&&t!==undefined){!angular.isArray(t)&&!angular.isObject(t)&&(t=[t]);if(angular.isArray(t)){var r=t.length,i=function(e,n){return n=parseInt(n,10),n>=0&&n<r?t[n]:e};n=n.replace(/\$([0-9]+)/g,i)}else angular.forEach(t,function(e,t){n=n.split(":"+t).join(e)})}return n}}),angular.module("ui.highlight",[]).filter("highlight",function(){"use strict";return function(e,t,n){return e&&(t||angular.isNumber(t))?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(e,t,n,r){"use strict";return{restrict:"ECA",terminal:!0,compile:function(i,s){var o=s.uiInclude||s.src,u=s.fragment||"",a=s.onload||"",f=s.autoscroll;return function(i,s){function p(){var p=++l,d=i.$eval(o),v=i.$eval(u);d?e.get(d,{cache:t}).success(function(e){if(p!==l)return;c&&c.$destroy(),c=i.$new();var t;v?t=angular.element("<div/>").html(e).find(v):t=angular.element("<div/>").html(e).contents(),s.html(t),r(t)(c),angular.isDefined(f)&&(!f||i.$eval(f))&&n(),c.$emit("$includeContentLoaded"),i.$eval(a)}).error(function(){p===l&&h()}):h()}var l=0,c,h=function(){c&&(c.$destroy(),c=null),s.html("")};i.$watch(u,p),i.$watch(o,p)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){"use strict";return{compile:function(e,t){return!t.type||t.type.toLowerCase()!=="checkbox"?angular.noop:function(e,t,n){e.$watch(n.uiIndeterminate,function(e){t[0].indeterminate=!!e})}}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){"use strict";function e(e){return e=e.replace(/([A-Z])|([\-|\_])/g,function(e,t){return" "+(t||"")}),e.replace(/\s\s+/g," ").trim().toLowerCase().split(" ")}function t(e){var t=[];return angular.forEach(e,function(e){t.push(e.charAt(0).toUpperCase()+e.substr(1))}),t}var n={humanize:function(n){return t(e(n)).join(" ")},underscore:function(t){return e(t).join("_")},variable:function(n){return n=e(n),n=n[0]+t(n.slice(1)).join(""),n}};return function(e,t){return t!==!1&&angular.isString(e)?(t=t||"humanize",n[t](e)):e}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(t,n){"use strict";return{restrict:"A",compile:function(r,i){if(!angular.isFunction(r[i.uiJq]))throw new Error('ui-jq: The "'+i.uiJq+'" function does not exist');var s=t&&t[i.uiJq];return function(t,r,i){function o(){var e=[];return i.uiOptions?(e=t.$eval("["+i.uiOptions+"]"),angular.isObject(s)&&angular.isObject(e[0])&&(e[0]=angular.extend({},s,e[0]))):s&&(e=[s]),e}function u(){n(function(){r[i.uiJq].apply(r,o())},0,!1)}i.ngModel&&r.is("select,input,textarea")&&r.bind("change",function(){r.trigger("input")}),i.uiRefresh&&t.$watch(i.uiRefresh,function(){u()}),u()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(t){"use strict";var n={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},r=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(e,i,s,o){var u,a=[];u=i.$eval(o["ui"+r(e)]),angular.forEach(u,function(e,n){var r,i;i=t(e),angular.forEach(n.split(" "),function(e){r={expression:i,keys:{}},angular.forEach(e.split("-"),function(e){r.keys[e]=!0}),a.push(r)})}),s.bind(e,function(t){var r=!!t.metaKey&&!t.ctrlKey,s=!!t.altKey,o=!!t.ctrlKey,u=!!t.shiftKey,f=t.keyCode;e==="keypress"&&!u&&f>=97&&f<=122&&(f-=32),angular.forEach(a,function(e){var a=e.keys[n[f]]||e.keys[f.toString()],l=!!e.keys.meta,c=!!e.keys.alt,h=!!e.keys.ctrl,p=!!e.keys.shift;a&&l===r&&c===s&&h===o&&p===u&&i.$apply(function(){e.expression(i,{$event:t})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){"use strict";return{link:function(t,n,r){e("keydown",t,n,r)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){"use strict";return{link:function(t,n,r){e("keypress",t,n,r)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){"use strict";return{link:function(t,n,r){e("keyup",t,n,r)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0}).directive("uiMask",["uiMaskConfig","$parse",function(e,t){"use strict";return{priority:100,require:"ngModel",restrict:"A",compile:function(){var r=e;return function(n,i,s,o){function x(e){return angular.isDefined(e)?(F(e),u?(O(),M(),!0):A()):A()}function T(e){if(!angular.isDefined(e))return;c=e,u&&U()}function N(e){return u?(d=P(e||""),m=D(d),o.$setValidity("mask",m),m&&d.length?H(d):undefined):e}function C(e){return u?(d=P(e||""),m=D(d),o.$viewValue=d.length?H(d):"",o.$setValidity("mask",m),d===""&&s.required&&o.$setValidity("required",!o.$error.required),m?d:undefined):e}function A(){return u=!1,_(),angular.isDefined(g)?i.attr("placeholder",g):i.removeAttr("placeholder"),angular.isDefined(y)?i.attr("maxlength",y):i.removeAttr("maxlength"),i.val(o.$modelValue),o.$viewValue=o.$modelValue,!1}function O(){d=w=P(o.$viewValue||""),v=b=H(d),m=D(d);var e=m&&d.length?v:"";s.maxlength&&i.attr("maxlength",f[f.length-1]*2),i.attr("placeholder",c),i.val(e),o.$viewValue=e}function M(){if(a)return;i.bind("blur",I),i.bind("mousedown mouseup",q),i.bind("input keyup click focus",U),a=!0}function _(){if(!a)return;i.unbind("blur",I),i.unbind("mousedown",q),i.unbind("mouseup",q),i.unbind("input",U),i.unbind("keyup",U),i.unbind("click",U),i.unbind("focus",U),a=!1}function D(e){return e.length?e.length>=p:!0}function P(e){var t="",n=l.slice();return e=e.toString(),angular.forEach(h,function(t){e=e.replace(t,"")}),angular.forEach(e.split(""),function(e){n.length&&n[0].test(e)&&(t+=e,n.shift())}),t}function H(e){var t="",n=f.slice();return angular.forEach(c.split(""),function(r,i){e.length&&i===n[0]?(t+=e.charAt(0)||"_",e=e.substr(1),n.shift()):t+=r}),t}function B(e){var t=s.placeholder;return typeof t!="undefined"&&t[e]?t[e]:"_"}function j(){return c.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function F(e){var t=0;f=[],l=[],c="";if(typeof e=="string"){p=0;var n=!1,r=e.split("");angular.forEach(r,function(e,r){k.maskDefinitions[e]?(f.push(t),c+=B(r),l.push(k.maskDefinitions[e]),t++,n||p++):e==="?"?n=!0:(c+=e,t++)})}f.push(f.slice().pop()+1),h=j(),u=f.length>1?!0:!1}function I(){if(k.clearOnBlur){E=0,S=0;if(!m||d.length===0)v="",i.val(""),n.$apply(function(){o.$setViewValue("")})}}function q(e){e.type==="mousedown"?i.bind("mouseout",R):i.unbind("mouseout",R)}function R(){S=V(this),i.unbind("mouseout",R)}function U(e){e=e||{};var t=e.which,r=e.type;if(t===16||t===91)return;var s=i.val(),u=b,a,l=P(s),c=w,h=!1,p=W(this)||0,d=E||0,v=p-d,m=f[0],g=f[l.length]||f.slice().shift(),y=S||0,x=V(this)>0,T=y>0,N=s.length>u.length||y&&s.length>u.length-y,C=s.length<u.length||y&&s.length===u.length-y,k=t>=37&&t<=40&&e.shiftKey,L=t===37,A=t===8||r!=="keyup"&&C&&v===-1,O=t===46||r!=="keyup"&&C&&v===0&&!T,M=(L||A||r==="click")&&p>m;S=V(this);if(k||x&&(r==="click"||r==="keyup"))return;if(r==="input"&&C&&!T&&l===c){while(A&&p>m&&!z(p))p--;while(O&&p<g&&f.indexOf(p)===-1)p++;var _=f.indexOf(p);l=l.substring(0,_)+l.substring(_+1),h=!0}a=H(l),b=a,w=l,i.val(a),h&&n.$apply(function(){o.$setViewValue(l)}),N&&p<=m&&(p=m+1),M&&p--,p=p>g?g:p<m?m:p;while(!z(p)&&p>m&&p<g)p+=M?-1:1;(M&&p<g||N&&!z(d))&&p++,E=p,X(this,p)}function z(e){return f.indexOf(e)>-1}function W(e){if(!e)return 0;if(e.selectionStart!==undefined)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();return t.moveStart("character",e.value?-e.value.length:0),t.text.length}return 0}function X(e,t){if(!e)return 0;if(e.offsetWidth===0||e.offsetHeight===0)return;if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}function V(e){return e?e.selectionStart!==undefined?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var u=!1,a=!1,f,l,c,h,p,d,v,m,g=s.placeholder,y=s.maxlength,b,w,E,S,k={};s.uiOptions?(k=n.$eval("["+s.uiOptions+"]"),angular.isObject(k[0])&&(k=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]===undefined?t[n]=angular.copy(e[n]):angular.extend(t[n],e[n]));return t}(r,k[0]))):k=r,s.$observe("uiMask",x),s.$observe("placeholder",T);var L=!1;s.$observe("modelViewValue",function(e){e==="true"&&(L=!0)}),n.$watch(s.ngModel,function(e){if(L&&e){var r=t(s.ngModel);r.assign(n,o.$viewValue)}}),o.$formatters.push(N),o.$parsers.push(C),i.bind("mousedown mouseup",q),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(this===null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:r!==0&&r!==Infinity&&r!==-Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(e){"use strict";var t=null;return e!==undefined&&(t=e),{require:"ngModel",link:function(e,n,r,i){var s;s=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(s),s.bind("click",function(n){n.preventDefault(),e.$apply(function(){r.uiReset?i.$setViewValue(e.$eval(r.uiReset)):i.$setViewValue(t),i.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(e,t){"use strict";return{restrict:"AC",scope:!0,compile:function(n,r){var i;if(r.uiRoute)i="uiRoute";else if(r.ngHref)i="ngHref";else{if(!r.href)throw new Error("uiRoute missing a route or href property on "+n[0]);i="href"}return function(n,r,s){function a(t){var r=t.indexOf("#");r>-1&&(t=t.substr(r+1)),u=function(){o(n,e.path().indexOf(t)>-1)},u()}function f(t){var r=t.indexOf("#");r>-1&&(t=t.substr(r+1)),u=function(){var i=new RegExp("^"+t+"$",["i"]);o(n,i.test(e.path()))},u()}var o=t(s.ngModel||s.routeModel||"$uiRoute").assign,u=angular.noop;switch(i){case"uiRoute":s.uiRoute?f(s.uiRoute):s.$observe("uiRoute",f);break;case"ngHref":s.ngHref?a(s.ngHref):s.$observe("ngHref",a);break;case"href":a(s.href)}n.$on("$routeChangeSuccess",function(){u()}),n.$on("$stateChangeSuccess",function(){u()})}}}}]),angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(e,t){"use strict";return{registerFor:function(e){var n,r,i,s,o,u,a;return r=angular.element.prototype.css,e.prototype.css=function(e,t){var n,i;i=this,n=i[0];if(!!n&&n.nodeType!==3&&n.nodeType!==8&&!!n.style)return r.call(i,e,t)},u=function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},a=function(e,t,n){var r,i,s,o,a;return r=e[0],a={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[t],i=a[0],o=a[1],s=a[2],u(r)?angular.isDefined(n)?r.scrollTo(e[s].call(e),n):o in r?r[o]:r.document.documentElement[i]:angular.isDefined(n)?r[i]=n:r[i]},t.getComputedStyle?(s=function(e){return t.getComputedStyle(e,null)},n=function(e,t){return parseFloat(t)}):(s=function(e){return e.currentStyle},n=function(e,t){var n,r,i,s,o,u,a;return n=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,s=new RegExp("^("+n+")(?!px)[a-z%]+$","i"),s.test(t)?(a=e.style,r=a.left,o=e.runtimeStyle,u=o&&o.left,o&&(o.left=a.left),a.left=t,i=a.pixelLeft,a.left=r,u&&(o.left=u),i):parseFloat(t)}),i=function(e,t){var r,i,o,a,f,l,c,h,p,d,v,m,g;return u(e)?(r=document.documentElement[{height:"clientHeight",width:"clientWidth"}[t]],{base:r,padding:0,border:0,margin:0}):(g={width:[e.offsetWidth,"Left","Right"],height:[e.offsetHeight,"Top","Bottom"]}[t],r=g[0],c=g[1],h=g[2],l=s(e),v=n(e,l["padding"+c])||0,m=n(e,l["padding"+h])||0,i=n(e,l["border"+c+"Width"])||0,o=n(e,l["border"+h+"Width"])||0,a=l["margin"+c],f=l["margin"+h],p=n(e,a)||0,d=n(e,f)||0,{base:r,padding:v+m,border:i+o,margin:p+d})},o=function(e,t,n){var r,o,u;o=i(e,t);if(o.base>0)return{base:o.base-o.padding-o.border,outer:o.base,outerfull:o.base+o.margin}[n];r=s(e),u=r[t];if(u<0||u===null)u=e.style[t]||0;return u=parseFloat(u)||0,{base:u-o.padding-o.border,outer:u,outerfull:u+o.padding+o.border+o.margin}[n]},angular.forEach({before:function(e){var t,n,r,i,s,o,u;s=this,n=s[0],i=s.parent(),t=i.contents();if(t[0]===n)return i.prepend(e);for(r=o=1,u=t.length-1;1<=u?o<=u:o>=u;r=1<=u?++o:--o)if(t[r]===n){angular.element(t[r-1]).after(e);return}throw new Error("invalid DOM structure "+n.outerHTML)},height:function(e){var t;return t=this,angular.isDefined(e)?(angular.isNumber(e)&&(e+="px"),r.call(t,"height",e)):o(this[0],"height","base")},outerHeight:function(e){return o(this[0],"height",e?"outerfull":"outer")},offset:function(e){var t,n,r,i,s,o;s=this;if(arguments.length){if(e===void 0)return s;throw new Error("offset setter method is not implemented")}t={top:0,left:0},i=s[0],n=i&&i.ownerDocument;if(!n)return;return r=n.documentElement,i.getBoundingClientRect!=null&&(t=i.getBoundingClientRect()),o=n.defaultView||n.parentWindow,{top:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}},scrollTop:function(e){return a(this,"top",e)},scrollLeft:function(e){return a(this,"left",e)}},function(t,n){if(!e.prototype[n])return e.prototype[n]=t})}}}]).run(["$log","$window","jqLiteExtras",function(e,t,n){"use strict";if(!t.jQuery)return n.registerFor(angular.element)}]),angular.module("ui.scroll",[]).directive("uiScrollViewport",["$log",function(){"use strict";return{controller:["$scope","$element",function(e,t){return this.viewport=t,this}]}}]).directive("uiScroll",["$log","$injector","$rootScope","$timeout",function(e,t,n,r){"use strict";return{require:["?^uiScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(i,s,o){return function(i,s,u,a){var f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt;H=e.debug||e.log,B=u.uiScroll.match(/^\s*(\w+)\s+in\s+([\w\.]+)\s*$/);if(!B)throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+u.uiScroll+"'");D=B[1],w=B[2],M=function(e){return angular.isObject(e)&&e.get&&angular.isFunction(e.get)},L=function(e,t){var n;return e?(n=t.match(/^([\w]+)\.(.+)$/),!n||n.length!==3?e[t]:L(e[n[1]],n[2])):null},b=L(i,w);if(!M(b)){b=t.get(w);if(!M(b))throw new Error(""+w+" is not a valid datasource")}return m=Math.max(3,+u.bufferSize||10),v=function(){return et.outerHeight()*Math.max(.1,+u.padding||.1)},W=function(e){var t;return(t=e[0].scrollHeight)!=null?t:e[0].document.documentElement.scrollHeight},f=null,o(J=i.$new(),function(e){var t,n,r,i,o,u;i=e[0].localName;if(i==="dl")throw new Error("ui-scroll directive does not support <"+e[0].localName+"> as a repeating tag: "+e[0].outerHTML);return i!=="li"&&i!=="tr"&&(i="div"),u=a[0]&&a[0].viewport?a[0].viewport:angular.element(window),u.css({"overflow-y":"auto",display:"block"}),r=function(e){var t,n,r;switch(e){case"tr":return r=angular.element("<table><tr><td><div></div></td></tr></table>"),t=r.find("div"),n=r.find("tr"),n.paddingHeight=function(){return t.height.apply(t,arguments)},n;default:return n=angular.element("<"+e+"></"+e+">"),n.paddingHeight=n.height,n}},n=function(e,t,n){return t[{top:"before",bottom:"after"}[n]](e),{paddingHeight:function(){return e.paddingHeight.apply(e,arguments)},insert:function(t){return e[{top:"after",bottom:"before"}[n]](t)}}},o=n(r(i),s,"top"),t=n(r(i),s,"bottom"),J.$destroy(),f={viewport:u,topPadding:o.paddingHeight,bottomPadding:t.paddingHeight,append:t.insert,prepend:o.insert,bottomDataPos:function(){return W(u)-t.paddingHeight()},topDataPos:function(){return o.paddingHeight()}}}),et=f.viewport,tt=et.scope()||n,angular.isDefined(u.topVisible)&&(G=function(e){return tt[u.topVisible]=e}),angular.isDefined(u.topVisibleElement)&&(Q=function(e){return tt[u.topVisibleElement]=e}),angular.isDefined(u.topVisibleScope)&&(Z=function(e){return tt[u.topVisibleScope]=e}),K=function(e){G&&G(e.scope[D]),Q&&Q(e.element),Z&&Z(e.scope);if(b.topVisible)return b.topVisible(e)},angular.isDefined(u.isLoading)?P=function(e){tt[u.isLoading]=e;if(b.loading)return b.loading(e)}:P=function(e){if(b.loading)return b.loading(e)},U=0,k=1,j=1,d=[],F=[],x=!1,h=!1,_=!1,q=function(e,t){var n,r;for(n=r=e;e<=t?r<t:r>t;n=e<=t?++r:--r)d[n].scope.$destroy(),d[n].element.remove();return d.splice(e,t-e)},I=function(){return U++,k=1,j=1,q(0,d.length),f.topPadding(0),f.bottomPadding(0),F=[],x=!1,h=!1,l(U,!1)},p=function(){return et.scrollTop()+et.outerHeight()},Y=function(){return et.scrollTop()},X=function(){return!x&&f.bottomDataPos()<p()+v()},g=function(){var e,t,n,r,i,s,o,u,a,l;e=0,o=0;for(t=a=l=d.length-1;l<=0?a<=0:a>=0;t=l<=0?++a:--a){n=d[t],i=n.element.offset().top,s=u!==i,u=i,s&&(r=n.element.outerHeight(!0));if(f.bottomDataPos()-e-r>p()+v())s&&(e+=r),o++,x=!1;else{if(s)break;o++}}if(o>0)return f.bottomPadding(f.bottomPadding()+e),q(d.length-o,d.length),j-=o,H("clipped off bottom "+o+" bottom padding "+f.bottomPadding())},V=function(){return!h&&f.topDataPos()>Y()-v()},y=function(){var e,t,n,r,i,s,o,u,a;o=0,i=0;for(u=0,a=d.length;u<a;u++){e=d[u],n=e.element.offset().top,r=s!==n,s=n,r&&(t=e.element.outerHeight(!0));if(f.topDataPos()+o+t<Y()-v())r&&(o+=t),i++,h=!1;else{if(r)break;i++}}if(i>0)return f.topPadding(f.topPadding()+o),q(0,i),k+=i,H("clipped off top "+i+" top padding "+f.topPadding())},S=function(e,t,n){_||(_=!0,P(!0));if(F.push(t)===1)return N(e,n)},A=function(e){return e.displayTemp=e.css("display"),e.css("display","none")},$=function(e){if(e.hasOwnProperty("displayTemp"))return e.css("display",e.displayTemp)},O=function(e,t){var n,r,s;return n=i.$new(),n[D]=t,r=e>k,n.$index=e,r&&n.$index--,s={scope:n},o(n,function(t){return s.element=t,r?e===j?(A(t),f.append(t),d.push(s)):(d[e-k].element.after(t),d.splice(e-k+1,0,s)):(A(t),f.prepend(t),d.unshift(s))}),{appended:r,wrapper:s}},c=function(e,t){var n;return e?f.bottomPadding(Math.max(0,f.bottomPadding()-t.element.outerHeight(!0))):(n=f.topPadding()-t.element.outerHeight(!0),n>=0?f.topPadding(n):et.scrollTop(et.scrollTop()+t.element.outerHeight(!0)))},E=function(e,t,n){var r,i,s,o,u,a,l,c,h;H("top {actual="+f.topDataPos()+" visible from="+Y()+" bottom {visible through="+p()+" actual="+f.bottomDataPos()+"}"),X()?S(e,!0,t):V()&&S(e,!1,t),n&&n(e);if(F.length===0){a=0,h=[];for(l=0,c=d.length;l<c;l++){r=d[l],s=r.element.offset().top,o=u!==s,u=s,o&&(i=r.element.outerHeight(!0));if(!(o&&f.topDataPos()+a+i<Y())){o&&K(r);break}h.push(a+=i)}return h}},l=function(e,t,n,i){return n&&n.length?r(function(){var r,o,u,a,f,l,h,p;a=[];for(f=0,h=n.length;f<h;f++)o=n[f],s=o.wrapper.element,$(s),r=s.offset().top,u!==r&&(a.push(o),u=r);for(l=0,p=a.length;l<p;l++)o=a[l],c(o.appended,o.wrapper);return E(e,t,i)}):E(e,t,i)},C=function(e,t,n){return l(e,t,n,function(){return F.shift(),F.length===0?(_=!1,P(!1)):N(e,t)})},N=function(e,t){var n;return n=F[0],n?d.length&&!X()?C(e,t):b.get(j,m,function(n){var r,i,s,o;if(e&&e!==U)return;i=[],n.length<m&&(x=!0,f.bottomPadding(0));if(n.length>0){y();for(s=0,o=n.length;s<o;s++)r=n[s],i.push(O(++j,r))}return C(e,t,i)}):d.length&&!V()?C(e,t):b.get(k-m,m,function(n){var r,i,s,o;if(e&&e!==U)return;i=[],n.length<m&&(h=!0,f.topPadding(0));if(n.length>0){d.length&&g();for(r=s=o=n.length-1;o<=0?s<=0:s>=0;r=o<=0?++s:--s)i.unshift(O(--k,n[r]))}return C(e,t,i)})},R=function(){if(!n.$$phase&&!_)return l(null,!1),i.$apply()},et.bind("resize",R),z=function(){if(!n.$$phase&&!_)return l(null,!0),i.$apply()},et.bind("scroll",z),nt=function(e){var t,n;t=et[0].scrollTop,n=et[0].scrollHeight-et[0].clientHeight;if(t===0&&!h||t===n&&!x)return e.preventDefault()},et.bind("mousewheel",nt),i.$watch(b.revision,function(){return I()}),b.scope?T=b.scope.$new():T=i.$new(),i.$on("$destroy",function(){return T.$destroy(),et.unbind("resize",R),et.unbind("scroll",z),et.unbind("mousewheel",nt)}),T.$on("update.items",function(e,t,n){var r,i,s,o,u;if(angular.isFunction(t)){i=function(e){return t(e.scope)};for(s=0,o=d.length;s<o;s++)r=d[s],i(r)}else 0<=(u=t-k-1)&&u<d.length&&(d[t-k-1].scope[D]=n);return null}),T.$on("delete.items",function(e,t){var n,r,i,s,o,u,a,f,c,h,p,v;if(angular.isFunction(t)){i=[];for(u=0,c=d.length;u<c;u++)r=d[u],i.unshift(r);o=function(e){if(t(e.scope))return q(i.length-1-n,i.length-n),j--};for(n=a=0,h=i.length;a<h;n=++a)s=i[n],o(s)}else 0<=(v=t-k-1)&&v<d.length&&(q(t-k-1,t-k),j--);for(n=f=0,p=d.length;f<p;n=++f)r=d[n],r.scope.$index=k+n;return l(null,!1)}),T.$on("insert.item",function(e,t,n){var r,i,s,o,u;i=[];if(angular.isFunction(t))throw new Error("not implemented - Insert with locator function");0<=(u=t-k-1)&&u<d.length&&(i.push(O(t,n)),j++);for(r=s=0,o=d.length;s<o;r=++s)n=d[r],n.scope.$index=k+r;return l(null,!1,i)})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(e){"use strict";function t(){if(angular.isDefined(e.pageYOffset))return e.pageYOffset;var t=document.compatMode&&document.compatMode!=="BackCompat"?document.documentElement:document.body;return t.scrollTop}return{require:"^?uiScrollfixTarget",link:function(n,r,i,s){function l(){var e=o?i.uiScrollfix:r[0].offsetTop+u,n=s?f[0].scrollTop:t();!r.hasClass("ui-scrollfix")&&n>e?(r.addClass("ui-scrollfix"),a=e):r.hasClass("ui-scrollfix")&&n<a&&r.removeClass("ui-scrollfix")}var o=!0,u=0,a,f=s&&s.$element||angular.element(e);i.uiScrollfix?typeof i.uiScrollfix=="string"&&(i.uiScrollfix.charAt(0)==="-"?(o=!1,u=-parseFloat(i.uiScrollfix.substr(1))):i.uiScrollfix.charAt(0)==="+"&&(o=!1,u=parseFloat(i.uiScrollfix.substr(1)))):o=!1,a=o?i.uiScrollfix:r[0].offsetTop+u,f.on("scroll",l),n.$on("$destroy",function(){f.off("scroll",l)})}}}]).directive("uiScrollfixTarget",[function(){"use strict";return{controller:["$element",function(e){this.$element=e}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){"use strict";return function(e,t,n){e.$watch(n.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){"use strict";return function(e,t,n){e.$watch(n.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){"use strict";return function(e,t,n){e.$watch(n.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(e){"use strict";return function(t,n){if(n===!1)return t;if((n||angular.isUndefined(n))&&angular.isArray(t)){var r=[],i=angular.isString(n)?e(n):function(e){return e},s=function(e){return angular.isObject(e)?i(e):e};angular.forEach(t,function(e){var t=!1;for(var n=0;n<r.length;n++)if(angular.equals(s(r[n]),s(e))){t=!0;break}t||r.push(e)}),t=r}return t}}]),angular.module("ui.uploader",[]).service("uiUploader",uiUploader),uiUploader.$inject=["$log"],angular.module("ui.validate",[]).directive("uiValidate",function(){"use strict";return{restrict:"A",require:"ngModel",link:function(e,t,n,r){function u(t){if(angular.isString(t)){e.$watch(t,function(){angular.forEach(s,function(e){e(r.$modelValue)})});return}if(angular.isArray(t)){angular.forEach(t,function(t){e.$watch(t,function(){angular.forEach(s,function(e){e(r.$modelValue)})})});return}angular.isObject(t)&&angular.forEach(t,function(t,n){angular.isString(t)&&e.$watch(t,function(){s[n](r.$modelValue)}),angular.isArray(t)&&angular.forEach(t,function(t){e.$watch(t,function(){s[n](r.$modelValue)})})})}var i,s={},o=e.$eval(n.uiValidate);if(!o)return;angular.isString(o)&&(o={validator:o}),angular.forEach(o,function(t,n){i=function(i){var s=e.$eval(t,{$value:i});return angular.isObject(s)&&angular.isFunction(s.then)?(s.then(function(){r.$setValidity(n,!0)},function(){r.$setValidity(n,!1)}),i):s?(r.$setValidity(n,!0),i):(r.$setValidity(n,!1),i)},s[n]=i,r.$formatters.push(i),r.$parsers.push(i)}),n.uiValidateWatch&&u(e.$eval(n.uiValidateWatch))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]);