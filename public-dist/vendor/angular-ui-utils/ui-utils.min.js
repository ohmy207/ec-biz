function uiUploader(e){"use strict";function t(e){for(var t=0;t<e.length;t++)a.files.push(e[t])}function n(){return a.files}function r(e){a.options=e;for(var t=0;t<a.files.length&&a.activeUploads!=a.options.concurrency;t++)a.files[t].active||u(a.files[t],a.options.url)}function i(e){a.files.splice(a.files.indexOf(e),1)}function s(){a.files.splice(0,a.files.length)}function o(e){var t=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],n=+Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,n)).toFixed(n?1:0)+" "+t[isNaN(e)?0:n+1]}function u(e,t){var n,i,s,u="",f="file";if(a.activeUploads+=1,e.active=!0,n=new window.XMLHttpRequest,i=new window.FormData,n.open("POST",t),n.upload.onloadstart=function(){},n.upload.onprogress=function(t){t.lengthComputable&&(e.loaded=t.loaded,e.humanSize=o(t.loaded),a.options.onProgress(e))},n.onload=function(){a.activeUploads-=1,r(a.options),a.options.onCompleted(e,n.responseText)},n.onerror=function(){},u)for(s in u)u.hasOwnProperty(s)&&i.append(s,u[s]);return i.append(f,e,e.name),n.send(i),n}var a=this;return a.files=[],a.options={},a.activeUploads=0,e.info("uiUploader loaded"),{addFiles:t,getFiles:n,files:a.files,startUpload:r,removeFile:i,removeAll:s}}angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(e,t){"use strict";t=t||{},angular.forEach(t,function(t,n){angular.isString(t)&&(t={replace:!0,template:t}),e.directive(n,function(){return t})})}]),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(e){"use strict";return function(t,n,r){var i=t.$eval(r.uiEvent);angular.forEach(i,function(r,i){var s=e(r);n.bind(i,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),s(t,{$event:e,$params:n}),t.$$phase||t.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){"use strict";return function(e,t){var n=e;if(angular.isString(n)&&void 0!==t)if(angular.isArray(t)||angular.isObject(t)||(t=[t]),angular.isArray(t)){var r=t.length,i=function(e,n){return n=parseInt(n,10),n>=0&&r>n?t[n]:e};n=n.replace(/\$([0-9]+)/g,i)}else angular.forEach(t,function(e,t){n=n.split(":"+t).join(e)});return n}}),angular.module("ui.highlight",[]).filter("highlight",function(){"use strict";return function(e,t,n){return e&&(t||angular.isNumber(t))?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(e,t,n,r){"use strict";return{restrict:"ECA",terminal:!0,compile:function(i,s){var o=s.uiInclude||s.src,u=s.fragment||"",f=s.onload||"",l=s.autoscroll;return function(i,s){function p(){var p=++m,w=i.$eval(o),E=i.$eval(u);w?e.get(w,{cache:t}).success(function(e){if(p===m){v&&v.$destroy(),v=i.$new();var t;t=E?angular.element("<div/>").html(e).find(E):angular.element("<div/>").html(e).contents(),s.html(t),r(t)(v),!angular.isDefined(l)||l&&!i.$eval(l)||n(),v.$emit("$includeContentLoaded"),i.$eval(f)}}).error(function(){p===m&&y()}):y()}var v,m=0,y=function(){v&&(v.$destroy(),v=null),s.html("")};i.$watch(u,p),i.$watch(o,p)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){"use strict";return{compile:function(e,t){return t.type&&"checkbox"===t.type.toLowerCase()?function(e,t,n){e.$watch(n.uiIndeterminate,function(e){t[0].indeterminate=!!e})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){"use strict";function e(e){return e=e.replace(/([A-Z])|([\-|\_])/g,function(e,t){return" "+(t||"")}),e.replace(/\s\s+/g," ").trim().toLowerCase().split(" ")}function t(e){var t=[];return angular.forEach(e,function(e){t.push(e.charAt(0).toUpperCase()+e.substr(1))}),t}var n={humanize:function(n){return t(e(n)).join(" ")},underscore:function(t){return e(t).join("_")},variable:function(n){return n=e(n),n=n[0]+t(n.slice(1)).join("")}};return function(e,t){return t!==!1&&angular.isString(e)?(t=t||"humanize",n[t](e)):e}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(e,t){"use strict";return{restrict:"A",compile:function(n,r){if(!angular.isFunction(n[r.uiJq]))throw new Error('ui-jq: The "'+r.uiJq+'" function does not exist');var i=e&&e[r.uiJq];return function(e,n,r){function s(){var t=[];return r.uiOptions?(t=e.$eval("["+r.uiOptions+"]"),angular.isObject(i)&&angular.isObject(t[0])&&(t[0]=angular.extend({},i,t[0]))):i&&(t=[i]),t}function o(){t(function(){n[r.uiJq].apply(n,s())},0,!1)}r.ngModel&&n.is("select,input,textarea")&&n.bind("change",function(){n.trigger("input")}),r.uiRefresh&&e.$watch(r.uiRefresh,function(){o()}),o()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(e){"use strict";var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(r,i,s,o){var u,f=[];u=i.$eval(o["ui"+n(r)]),angular.forEach(u,function(t,n){var r,i;i=e(t),angular.forEach(n.split(" "),function(e){r={expression:i,keys:{}},angular.forEach(e.split("-"),function(e){r.keys[e]=!0}),f.push(r)})}),s.bind(r,function(e){var n=!!e.metaKey&&!e.ctrlKey,s=!!e.altKey,o=!!e.ctrlKey,u=!!e.shiftKey,a=e.keyCode;"keypress"===r&&!u&&a>=97&&122>=a&&(a-=32),angular.forEach(f,function(r){var f=r.keys[t[a]]||r.keys[a.toString()],l=!!r.keys.meta,p=!!r.keys.alt,d=!!r.keys.ctrl,v=!!r.keys.shift;f&&l===n&&p===s&&d===o&&v===u&&i.$apply(function(){r.expression(i,{$event:e})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){"use strict";return{link:function(t,n,r){e("keydown",t,n,r)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){"use strict";return{link:function(t,n,r){e("keypress",t,n,r)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){"use strict";return{link:function(t,n,r){e("keyup",t,n,r)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0}).directive("uiMask",["uiMaskConfig","$parse",function(e,t){"use strict";return{priority:100,require:"ngModel",restrict:"A",compile:function(){var n=e;return function(e,r,i,s){function o(e){return angular.isDefined(e)?(E(e),U?(h(),p(),!0):l()):l()}function u(e){angular.isDefined(e)&&(_=e,U&&N())}function a(e){return U?(H=m(e||""),j=v(H),s.$setValidity("mask",j),j&&H.length?g(H):void 0):e}function f(e){return U?(H=m(e||""),j=v(H),s.$viewValue=H.length?g(H):"",s.$setValidity("mask",j),""===H&&i.required&&s.$setValidity("required",!s.$error.required),j?H:void 0):e}function l(){return U=!1,d(),angular.isDefined(W)?r.attr("placeholder",W):r.removeAttr("placeholder"),angular.isDefined(X)?r.attr("maxlength",X):r.removeAttr("maxlength"),r.val(s.$modelValue),s.$viewValue=s.$modelValue,!1}function h(){H=I=m(s.$viewValue||""),B=F=g(H),j=v(H);var e=j&&H.length?B:"";i.maxlength&&r.attr("maxlength",2*O[O.length-1]),r.attr("placeholder",_),r.val(e),s.$viewValue=e}function p(){z||(r.bind("blur",S),r.bind("mousedown mouseup",x),r.bind("input keyup click focus",N),z=!0)}function d(){z&&(r.unbind("blur",S),r.unbind("mousedown",x),r.unbind("mouseup",x),r.unbind("input",N),r.unbind("keyup",N),r.unbind("click",N),r.unbind("focus",N),z=!1)}function v(e){return e.length?e.length>=P:!0}function m(e){var t="",n=M.slice();return e=e.toString(),angular.forEach(D,function(t){e=e.replace(t,"")}),angular.forEach(e.split(""),function(e){n.length&&n[0].test(e)&&(t+=e,n.shift())}),t}function g(e){var t="",n=O.slice();return angular.forEach(_.split(""),function(r,i){e.length&&i===n[0]?(t+=e.charAt(0)||"_",e=e.substr(1),n.shift()):t+=r}),t}function y(e){var t=i.placeholder;return"undefined"!=typeof t&&t[e]?t[e]:"_"}function w(){return _.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function E(e){var t=0;if(O=[],M=[],_="","string"==typeof e){P=0;var n=!1,r=e.split("");angular.forEach(r,function(e,r){V.maskDefinitions[e]?(O.push(t),_+=y(r),M.push(V.maskDefinitions[e]),t++,n||P++):"?"===e?n=!0:(_+=e,t++)})}O.push(O.slice().pop()+1),D=w(),U=O.length>1?!0:!1}function S(){V.clearOnBlur&&(q=0,R=0,j&&0!==H.length||(B="",r.val(""),e.$apply(function(){s.$setViewValue("")})))}function x(e){"mousedown"===e.type?r.bind("mouseout",T):r.unbind("mouseout",T)}function T(){R=A(this),r.unbind("mouseout",T)}function N(t){t=t||{};var n=t.which,i=t.type;if(16!==n&&91!==n){var o,u=r.val(),a=F,f=m(u),l=I,c=!1,h=k(this)||0,p=q||0,d=h-p,v=O[0],y=O[f.length]||O.slice().shift(),b=R||0,w=A(this)>0,E=b>0,S=u.length>a.length||b&&u.length>a.length-b,x=u.length<a.length||b&&u.length===a.length-b,T=n>=37&&40>=n&&t.shiftKey,N=37===n,M=8===n||"keyup"!==i&&x&&-1===d,_=46===n||"keyup"!==i&&x&&0===d&&!E,D=(N||M||"click"===i)&&h>v;if(R=A(this),!T&&(!w||"click"!==i&&"keyup"!==i)){if("input"===i&&x&&!E&&f===l){for(;M&&h>v&&!C(h);)h--;for(;_&&y>h&&-1===O.indexOf(h);)h++;var P=O.indexOf(h);f=f.substring(0,P)+f.substring(P+1),c=!0}for(o=g(f),F=o,I=f,r.val(o),c&&e.$apply(function(){s.$setViewValue(f)}),S&&v>=h&&(h=v+1),D&&h--,h=h>y?y:v>h?v:h;!C(h)&&h>v&&y>h;)h+=D?-1:1;(D&&y>h||S&&!C(p))&&h++,q=h,L(this,h)}}}function C(e){return O.indexOf(e)>-1}function k(e){if(!e)return 0;if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();return t.moveStart("character",e.value?-e.value.length:0),t.text.length}return 0}function L(e,t){if(!e)return 0;if(0!==e.offsetWidth&&0!==e.offsetHeight)if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}function A(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var O,M,_,D,P,H,B,j,F,I,q,R,U=!1,z=!1,W=i.placeholder,X=i.maxlength,V={};i.uiOptions?(V=e.$eval("["+i.uiOptions+"]"),angular.isObject(V[0])&&(V=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(void 0===t[n]?t[n]=angular.copy(e[n]):angular.extend(t[n],e[n]));return t}(n,V[0]))):V=n,i.$observe("uiMask",o),i.$observe("placeholder",u);var $=!1;i.$observe("modelViewValue",function(e){"true"===e&&($=!0)}),e.$watch(i.ngModel,function(n){if($&&n){var r=t(i.ngModel);r.assign(e,s.$viewValue)}}),s.$formatters.push(a),s.$parsers.push(f),r.bind("mousedown mouseup",x),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&1/0!==r&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);n>i;i++)if(i in t&&t[i]===e)return i;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(e){"use strict";var t=null;return void 0!==e&&(t=e),{require:"ngModel",link:function(e,n,r,i){var s;s=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(s),s.bind("click",function(n){n.preventDefault(),e.$apply(function(){i.$setViewValue(r.uiReset?e.$eval(r.uiReset):t),i.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(e,t){"use strict";return{restrict:"AC",scope:!0,compile:function(n,r){var i;if(r.uiRoute)i="uiRoute";else if(r.ngHref)i="ngHref";else{if(!r.href)throw new Error("uiRoute missing a route or href property on "+n[0]);i="href"}return function(n,r,s){function o(t){var r=t.indexOf("#");r>-1&&(t=t.substr(r+1)),(l=function(){f(n,e.path().indexOf(t)>-1)})()}function u(t){var r=t.indexOf("#");r>-1&&(t=t.substr(r+1)),(l=function(){var r=new RegExp("^"+t+"$",["i"]);f(n,r.test(e.path()))})()}var f=t(s.ngModel||s.routeModel||"$uiRoute").assign,l=angular.noop;switch(i){case"uiRoute":s.uiRoute?u(s.uiRoute):s.$observe("uiRoute",u);break;case"ngHref":s.ngHref?o(s.ngHref):s.$observe("ngHref",o);break;case"href":o(s.href)}n.$on("$routeChangeSuccess",function(){l()}),n.$on("$stateChangeSuccess",function(){l()})}}}}]),angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(e,t){"use strict";return{registerFor:function(e){var n,r,i,s,o,u,a;return r=angular.element.prototype.css,e.prototype.css=function(e,t){var n,i;return i=this,n=i[0],n&&3!==n.nodeType&&8!==n.nodeType&&n.style?r.call(i,e,t):void 0},u=function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},a=function(e,t,n){var r,i,s,o,a;return r=e[0],a={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[t],i=a[0],o=a[1],s=a[2],u(r)?angular.isDefined(n)?r.scrollTo(e[s].call(e),n):o in r?r[o]:r.document.documentElement[i]:angular.isDefined(n)?r[i]=n:r[i]},t.getComputedStyle?(s=function(e){return t.getComputedStyle(e,null)},n=function(e,t){return parseFloat(t)}):(s=function(e){return e.currentStyle},n=function(e,t){var n,r,i,s,o,u,a;return n=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,s=new RegExp("^("+n+")(?!px)[a-z%]+$","i"),s.test(t)?(a=e.style,r=a.left,o=e.runtimeStyle,u=o&&o.left,o&&(o.left=a.left),a.left=t,i=a.pixelLeft,a.left=r,u&&(o.left=u),i):parseFloat(t)}),i=function(e,t){var r,i,o,a,l,p,d,v,m,g,y,b,w;return u(e)?(r=document.documentElement[{height:"clientHeight",width:"clientWidth"}[t]],{base:r,padding:0,border:0,margin:0}):(w={width:[e.offsetWidth,"Left","Right"],height:[e.offsetHeight,"Top","Bottom"]}[t],r=w[0],d=w[1],v=w[2],p=s(e),y=n(e,p["padding"+d])||0,b=n(e,p["padding"+v])||0,i=n(e,p["border"+d+"Width"])||0,o=n(e,p["border"+v+"Width"])||0,a=p["margin"+d],l=p["margin"+v],m=n(e,a)||0,g=n(e,l)||0,{base:r,padding:y+b,border:i+o,margin:m+g})},o=function(e,t,n){var r,o,u;return o=i(e,t),o.base>0?{base:o.base-o.padding-o.border,outer:o.base,outerfull:o.base+o.margin}[n]:(r=s(e),u=r[t],(0>u||null===u)&&(u=e.style[t]||0),u=parseFloat(u)||0,{base:u-o.padding-o.border,outer:u,outerfull:u+o.padding+o.border+o.margin}[n])},angular.forEach({before:function(e){var t,n,r,i,s,o,u;if(s=this,n=s[0],i=s.parent(),t=i.contents(),t[0]===n)return i.prepend(e);for(r=o=1,u=t.length-1;u>=1?u>=o:o>=u;r=u>=1?++o:--o)if(t[r]===n)return void angular.element(t[r-1]).after(e);throw new Error("invalid DOM structure "+n.outerHTML)},height:function(e){var t;return t=this,angular.isDefined(e)?(angular.isNumber(e)&&(e+="px"),r.call(t,"height",e)):o(this[0],"height","base")},outerHeight:function(e){return o(this[0],"height",e?"outerfull":"outer")},offset:function(e){var t,n,r,i,s,o;if(s=this,arguments.length){if(void 0===e)return s;throw new Error("offset setter method is not implemented")}return t={top:0,left:0},i=s[0],(n=i&&i.ownerDocument)?(r=n.documentElement,null!=i.getBoundingClientRect&&(t=i.getBoundingClientRect()),o=n.defaultView||n.parentWindow,{top:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}):void 0},scrollTop:function(e){return a(this,"top",e)},scrollLeft:function(e){return a(this,"left",e)}},function(t,n){return e.prototype[n]?void 0:e.prototype[n]=t})}}}]).run(["$log","$window","jqLiteExtras",function(e,t,n){"use strict";return t.jQuery?void 0:n.registerFor(angular.element)}]),angular.module("ui.scroll",[]).directive("uiScrollViewport",["$log",function(){"use strict";return{controller:["$scope","$element",function(e,t){return this.viewport=t,this}]}}]).directive("uiScroll",["$log","$injector","$rootScope","$timeout",function(e,t,n,r){"use strict";return{require:["?^uiScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(i,s,o){return function(i,s,u,f){var l,h,p,v,m,y,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut;if(q=e.debug||e.log,R=u.uiScroll.match(/^\s*(\w+)\s+in\s+([\w\.]+)\s*$/),!R)throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+u.uiScroll+"'");if(F=R[1],N=R[2],B=function(e){return angular.isObject(e)&&e.get&&angular.isFunction(e.get)},D=function(e,t){var n;return e?(n=t.match(/^([\w]+)\.(.+)$/),n&&3===n.length?D(e[n[1]],n[2]):e[t]):null},T=D(i,N),!B(T)&&(T=t.get(N),!B(T)))throw new Error(""+N+" is not a valid datasource");return E=Math.max(3,+u.bufferSize||10),w=function(){return st.outerHeight()*Math.max(.1,+u.padding||.1)},K=function(e){var t;return null!=(t=e[0].scrollHeight)?t:e[0].document.documentElement.scrollHeight},l=null,o(Z=i.$new(),function(e){var t,n,r,i,o,u;if(i=e[0].localName,"dl"===i)throw new Error("ui-scroll directive does not support <"+e[0].localName+"> as a repeating tag: "+e[0].outerHTML);return"li"!==i&&"tr"!==i&&(i="div"),u=f[0]&&f[0].viewport?f[0].viewport:angular.element(window),u.css({"overflow-y":"auto",display:"block"}),r=function(e){var t,n,r;switch(e){case"tr":return r=angular.element("<table><tr><td><div></div></td></tr></table>"),t=r.find("div"),n=r.find("tr"),n.paddingHeight=function(){return t.height.apply(t,arguments)},n;default:return n=angular.element("<"+e+"></"+e+">"),n.paddingHeight=n.height,n}},n=function(e,t,n){return t[{top:"before",bottom:"after"}[n]](e),{paddingHeight:function(){return e.paddingHeight.apply(e,arguments)},insert:function(t){return e[{top:"after",bottom:"before"}[n]](t)}}},o=n(r(i),s,"top"),t=n(r(i),s,"bottom"),Z.$destroy(),l={viewport:u,topPadding:o.paddingHeight,bottomPadding:t.paddingHeight,append:t.insert,prepend:o.insert,bottomDataPos:function(){return K(u)-t.paddingHeight()},topDataPos:function(){return o.paddingHeight()}}}),st=l.viewport,ot=st.scope()||n,angular.isDefined(u.topVisible)&&(nt=function(e){return ot[u.topVisible]=e}),angular.isDefined(u.topVisibleElement)&&(tt=function(e){return ot[u.topVisibleElement]=e}),angular.isDefined(u.topVisibleScope)&&(it=function(e){return ot[u.topVisibleScope]=e}),et=function(e){return nt&&nt(e.scope[F]),tt&&tt(e.element),it&&it(e.scope),T.topVisible?T.topVisible(e):void 0},I=angular.isDefined(u.isLoading)?function(e){return ot[u.isLoading]=e,T.loading?T.loading(e):void 0}:function(e){return T.loading?T.loading(e):void 0},$=0,_=1,U=1,y=[],z=[],L=!1,v=!1,j=!1,X=function(e,t){var n,r;for(n=r=e;t>=e?t>r:r>t;n=t>=e?++r:--r)y[n].scope.$destroy(),y[n].element.remove();return y.splice(e,t-e)},W=function(){return $++,_=1,U=1,X(0,y.length),l.topPadding(0),l.bottomPadding(0),z=[],L=!1,v=!1,h($,!1)},m=function(){return st.scrollTop()+st.outerHeight()},rt=function(){return st.scrollTop()},Q=function(){return!L&&l.bottomDataPos()<m()+w()},S=function(){var e,t,n,r,i,s,o,u,a,f;for(e=0,o=0,t=a=f=y.length-1;0>=f?0>=a:a>=0;t=0>=f?++a:--a)if(n=y[t],i=n.element.offset().top,s=u!==i,u=i,s&&(r=n.element.outerHeight(!0)),l.bottomDataPos()-e-r>m()+w())s&&(e+=r),o++,L=!1;else{if(s)break;o++}return o>0?(l.bottomPadding(l.bottomPadding()+e),X(y.length-o,y.length),U-=o,q("clipped off bottom "+o+" bottom padding "+l.bottomPadding())):void 0},G=function(){return!v&&l.topDataPos()>rt()-w()},x=function(){var e,t,n,r,i,s,o,u,a;for(o=0,i=0,u=0,a=y.length;a>u;u++)if(e=y[u],n=e.element.offset().top,r=s!==n,s=n,r&&(t=e.element.outerHeight(!0)),l.topDataPos()+o+t<rt()-w())r&&(o+=t),i++,v=!1;else{if(r)break;i++}return i>0?(l.topPadding(l.topPadding()+o),X(0,i),_+=i,q("clipped off top "+i+" top padding "+l.topPadding())):void 0},k=function(e,t,n){return j||(j=!0,I(!0)),1===z.push(t)?O(e,n):void 0},P=function(e){return e.displayTemp=e.css("display"),e.css("display","none")},Y=function(e){return e.hasOwnProperty("displayTemp")?e.css("display",e.displayTemp):void 0},H=function(e,t){var n,r,s;return n=i.$new(),n[F]=t,r=e>_,n.$index=e,r&&n.$index--,s={scope:n},o(n,function(t){return s.element=t,r?e===U?(P(t),l.append(t),y.push(s)):(y[e-_].element.after(t),y.splice(e-_+1,0,s)):(P(t),l.prepend(t),y.unshift(s))}),{appended:r,wrapper:s}},p=function(e,t){var n;return e?l.bottomPadding(Math.max(0,l.bottomPadding()-t.element.outerHeight(!0))):(n=l.topPadding()-t.element.outerHeight(!0),n>=0?l.topPadding(n):st.scrollTop(st.scrollTop()+t.element.outerHeight(!0)))},C=function(e,t,n){var r,i,s,o,u,a,f,c,h;if(q("top {actual="+l.topDataPos()+" visible from="+rt()+" bottom {visible through="+m()+" actual="+l.bottomDataPos()+"}"),Q()?k(e,!0,t):G()&&k(e,!1,t),n&&n(e),0===z.length){for(a=0,h=[],f=0,c=y.length;c>f;f++){if(r=y[f],s=r.element.offset().top,o=u!==s,u=s,o&&(i=r.element.outerHeight(!0)),!(o&&l.topDataPos()+a+i<rt())){o&&et(r);break}h.push(a+=i)}return h}},h=function(e,t,n,i){return n&&n.length?r(function(){var r,o,u,f,l,h,d,v;for(f=[],l=0,d=n.length;d>l;l++)o=n[l],s=o.wrapper.element,Y(s),r=s.offset().top,u!==r&&(f.push(o),u=r);for(h=0,v=f.length;v>h;h++)o=f[h],p(o.appended,o.wrapper);return C(e,t,i)}):C(e,t,i)},M=function(e,t,n){return h(e,t,n,function(){return z.shift(),0===z.length?(j=!1,I(!1)):O(e,t)})},O=function(e,t){var n;return n=z[0],n?y.length&&!Q()?M(e,t):T.get(U,E,function(n){var r,i,s,o;if(!e||e===$){if(i=[],n.length<E&&(L=!0,l.bottomPadding(0)),n.length>0)for(x(),s=0,o=n.length;o>s;s++)r=n[s],i.push(H(++U,r));return M(e,t,i)}}):y.length&&!G()?M(e,t):T.get(_-E,E,function(n){var r,i,s,o;if(!e||e===$){if(i=[],n.length<E&&(v=!0,l.topPadding(0)),n.length>0)for(y.length&&S(),r=s=o=n.length-1;0>=o?0>=s:s>=0;r=0>=o?++s:--s)i.unshift(H(--_,n[r]));return M(e,t,i)}})},V=function(){return n.$$phase||j?void 0:(h(null,!1),i.$apply())},st.bind("resize",V),J=function(){return n.$$phase||j?void 0:(h(null,!0),i.$apply())},st.bind("scroll",J),ut=function(e){var t,n;return t=st[0].scrollTop,n=st[0].scrollHeight-st[0].clientHeight,0===t&&!v||t===n&&!L?e.preventDefault():void 0},st.bind("mousewheel",ut),i.$watch(T.revision,function(){return W()}),A=T.scope?T.scope.$new():i.$new(),i.$on("$destroy",function(){return A.$destroy(),st.unbind("resize",V),st.unbind("scroll",J),st.unbind("mousewheel",ut)}),A.$on("update.items",function(e,t,n){var r,i,s,o,u;if(angular.isFunction(t))for(i=function(e){return t(e.scope)},s=0,o=y.length;o>s;s++)r=y[s],i(r);else 0<=(u=t-_-1)&&u<y.length&&(y[t-_-1].scope[F]=n);return null}),A.$on("delete.items",function(e,t){var n,r,i,s,o,u,a,f,l,c,p,d;if(angular.isFunction(t)){for(i=[],u=0,l=y.length;l>u;u++)r=y[u],i.unshift(r);for(o=function(e){return t(e.scope)?(X(i.length-1-n,i.length-n),U--):void 0},n=a=0,c=i.length;c>a;n=++a)s=i[n],o(s)}else 0<=(d=t-_-1)&&d<y.length&&(X(t-_-1,t-_),U--);for(n=f=0,p=y.length;p>f;n=++f)r=y[n],r.scope.$index=_+n;return h(null,!1)}),A.$on("insert.item",function(e,t,n){var r,i,s,o,u;if(i=[],angular.isFunction(t))throw new Error("not implemented - Insert with locator function");for(0<=(u=t-_-1)&&u<y.length&&(i.push(H(t,n)),U++),r=s=0,o=y.length;o>s;r=++s)n=y[r],n.scope.$index=_+r;return h(null,!1,i)})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(e){"use strict";function t(){if(angular.isDefined(e.pageYOffset))return e.pageYOffset;var t=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;return t.scrollTop}return{require:"^?uiScrollfixTarget",link:function(n,r,i,s){function o(){var e=f?i.uiScrollfix:r[0].offsetTop+l,n=s?c[0].scrollTop:t();!r.hasClass("ui-scrollfix")&&n>e?(r.addClass("ui-scrollfix"),u=e):r.hasClass("ui-scrollfix")&&u>n&&r.removeClass("ui-scrollfix")}var u,f=!0,l=0,c=s&&s.$element||angular.element(e);i.uiScrollfix?"string"==typeof i.uiScrollfix&&("-"===i.uiScrollfix.charAt(0)?(f=!1,l=-parseFloat(i.uiScrollfix.substr(1))):"+"===i.uiScrollfix.charAt(0)&&(f=!1,l=parseFloat(i.uiScrollfix.substr(1)))):f=!1,u=f?i.uiScrollfix:r[0].offsetTop+l,c.on("scroll",o),n.$on("$destroy",function(){c.off("scroll",o)})}}}]).directive("uiScrollfixTarget",[function(){"use strict";return{controller:["$element",function(e){this.$element=e}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){"use strict";return function(e,t,n){e.$watch(n.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){"use strict";return function(e,t,n){e.$watch(n.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){"use strict";return function(e,t,n){e.$watch(n.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(e){"use strict";return function(t,n){if(n===!1)return t;if((n||angular.isUndefined(n))&&angular.isArray(t)){var r=[],i=angular.isString(n)?e(n):function(e){return e},s=function(e){return angular.isObject(e)?i(e):e};angular.forEach(t,function(e){for(var t=!1,n=0;n<r.length;n++)if(angular.equals(s(r[n]),s(e))){t=!0;break}t||r.push(e)}),t=r}return t}}]),angular.module("ui.uploader",[]).service("uiUploader",uiUploader),uiUploader.$inject=["$log"],angular.module("ui.validate",[]).directive("uiValidate",function(){"use strict";return{restrict:"A",require:"ngModel",link:function(e,t,n,r){function i(t){return angular.isString(t)?void e.$watch(t,function(){angular.forEach(o,function(e){e(r.$modelValue)})}):angular.isArray(t)?void angular.forEach(t,function(t){e.$watch(t,function(){angular.forEach(o,function(e){e(r.$modelValue)})})}):void (angular.isObject(t)&&angular.forEach(t,function(t,n){angular.isString(t)&&e.$watch(t,function(){o[n](r.$modelValue)}),angular.isArray(t)&&angular.forEach(t,function(t){e.$watch(t,function(){o[n](r.$modelValue)})})}))}var s,o={},u=e.$eval(n.uiValidate);u&&(angular.isString(u)&&(u={validator:u}),angular.forEach(u,function(t,n){s=function(i){var s=e.$eval(t,{$value:i});return angular.isObject(s)&&angular.isFunction(s.then)?(s.then(function(){r.$setValidity(n,!0)},function(){r.$setValidity(n,!1)}),i):s?(r.$setValidity(n,!0),i):(r.$setValidity(n,!1),i)},o[n]=s,r.$formatters.push(s),r.$parsers.push(s)}),n.uiValidateWatch&&i(e.$eval(n.uiValidateWatch)))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]);